{% extends 'base.html' %}
{% block title %}
    Lịch sử thực đơn
{% endblock title %}
{% block app_name %}
    Lịch sử thực đơn
{% endblock app_name %}
{% block content %}
    {% load static %}
        <script src="{% static 'js/menu_index.js' %}" defer></script>
        <style rel="stylesheet">
            tr td {
               cursor: pointer;
            }
            tr:hover {
                filter: alpha(opacity=100);
            }
        </style>
    <div class="container-fluid" style="height:750px">
        <div class=""><h3 class="font-weight-bold">Lịch sử thực đơn</h3></div>
        <div class="row mb-3" style="background-color: transparent">
            <span class="page-links"
            >
                {% if page_obj.has_previous %}
                    <a 
                        class="font-weight-bold" 
                        href="{{ request.path }}?page={{ page_obj.previous_page_number }}"
                    >
                        Trang Trước
                    </a>
                {% endif %}
                <span class="page-current"
                    class="font-weight-bold"
                >
                    {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}
                </span>
                {% if page_obj.has_next %}
                    <a 
                        class="font-weight-bold"
                        href="{{ request.path }}?page={{ page_obj.next_page_number }}"
                    >
                        Trang Sau
                    </a>
                {% endif %}
            </span>
        </div>
        <div class="row" style="background-color: transparent; width: 100%">
            <table class="table table-hover table-sm table-responsive-sm" style="text-overflow: ellipsis" id="table_cb">
                <thead class="thead-dark">
                    <tr>
                        <th style="width: 10%">#</th>
                        <th style="width: 40%">Mô tả</th>
                        <th style="width: 35%">Thời gian</th>
                        <th style="width: 15%">Calories</th>
                    </tr>
                </thead>
                <tbody>
                {% for menu in menus %}
                    <tr id="m_{{menu.id}}">
                        <td>
                            {{menu.id}}
                        </td>
                        <td>
                        {% if menu.description|length == 0 %}
                        ---
                        {% else %}
                            {{menu.description}}
                        {% endif %}
                        </td>
                        <td>
                            {{menu.mealtime|date:'m/m/Y H:m:s'}}
                        </td>
                        <td>
                            {{menu.calories}}/{{menu.limit}}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
{% endblock content %}

    